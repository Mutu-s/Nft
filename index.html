'use client'

import { useState, useEffect } from 'react'
import { Button } from "@/components/ui/button"
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from "@/components/ui/card"
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select"
import Image from 'next/image'

const translations = {
  en: {
    title: "0xHub NFT Minting",
    description: "Mint your unique NFT on the 0xHub network",
    faucetButton: "Get 0xHub Faucet",
    rollappButton: "View 0xHub Rollapp",
    footer: "Powered by 0xHub Network | Explore the future of NFTs",
    game: "Click the coin!",
  },
  tr: {
    title: "0xHub NFT Basımı",
    description: "0xHub ağında benzersiz NFT'nizi basın",
    faucetButton: "0xHub Faucet Al",
    rollappButton: "0xHub Rollapp Görüntüle",
    footer: "0xHub Ağı tarafından desteklenmektedir | NFT'lerin geleceğini keşfedin",
    game: "Madeni paraya tıkla!",
  }
}

export default function Component() {
  const [lang, setLang] = useState('en')
  const t = translations[lang]
  const [coinPosition, setCoinPosition] = useState({ x: 50, y: 50 })
  const [score, setScore] = useState(0)

  useEffect(() => {
    const interval = setInterval(() => {
      setCoinPosition({
        x: Math.random() * 80 + 10,
        y: Math.random() * 80 + 10
      })
    }, 2000)
    return () => clearInterval(interval)
  }, [])

  const handleCoinClick = () => {
    setScore(score + 1)
  }

  return (
    <div className="min-h-screen bg-gradient-to-r from-purple-500 to-indigo-600 flex flex-col items-center justify-center p-4">
      <Card className="w-full max-w-4xl bg-white/10 backdrop-blur-md text-white">
        <CardHeader className="flex flex-row items-center justify-between">
          <Image src="https://www.upload.ee/image/17217533/0xhub.png" alt="0xHub Logo" width={50} height={50} />
          <CardTitle className="text-3xl font-bold text-center">{t.title}</CardTitle>
          <Select onValueChange={setLang} defaultValue={lang}>
            <SelectTrigger className="w-[100px]">
              <SelectValue placeholder="Language" />
            </SelectTrigger>
            <SelectContent>
              <SelectItem value="en">English</SelectItem>
              <SelectItem value="tr">Türkçe</SelectItem>
            </SelectContent>
          </Select>
        </CardHeader>
        <CardDescription className="text-center text-gray-200">
          {t.description}
        </CardDescription>
        <CardContent className="space-y-6">
          <div className="w-full aspect-video rounded-lg overflow-hidden shadow-xl">
            <iframe
              src="https://embed.ipfscdn.io/ipfs/bafybeigdie2yyiazou7grjowoeoevmuip6akk33nqb55vrpezqdwfssrxyfy/erc1155.html?contract=0x598A64235F7BB8482baF829ffA56fAE355fb9A17&chain=%7B%22name%22%3A%220xHub%22%2C%22chain%22%3A%22%22%2C%22rpc%22%3A%5B%22https%3A%2F%2F0xhub-dym-evm.crabdance.com%22%5D%2C%22nativeCurrency%22%3A%7B%22symbol%22%3A%22MTU%22%2C%22name%22%3A%22MTU%22%2C%22decimals%22%3A18%7D%2C%22shortName%22%3A%22oxhubb%22%2C%22chainId%22%3A1143%2C%22testnet%22%3Afalse%2C%22slug%22%3A%22oxhubb%22%2C%22icon%22%3A%7B%22url%22%3A%22%22%2C%22width%22%3A50%2C%22height%22%3A50%2C%22format%22%3A%22%22%7D%7D&clientId=c907fb0bfa29eb679577319491da1720&tokenId=0&theme=dark&primaryColor=purple"
              width="100%"
              height="100%"
              style={{ border: 'none' }}
              allowFullScreen
            />
          </div>
          <div className="flex justify-center space-x-4">
            <Button
              variant="outline"
              className="bg-purple-600 hover:bg-purple-700 text-white"
              onClick={() => window.open('https://0xhub-facuet.vercel.app/', '_blank')}
            >
              {t.faucetButton}
            </Button>
            <Button
              variant="outline"
              className="bg-indigo-600 hover:bg-indigo-700 text-white"
              onClick={() => window.open('https://playground.dymension.xyz/rollapps/oxhub_1143-1/dashboard', '_blank')}
            >
              {t.rollappButton}
            </Button>
          </div>
          <div className="text-center">
            <h3 className="text-xl font-semibold mb-2">{t.game}</h3>
            <p className="text-lg">Score: {score}</p>
            <div className="relative w-full h-40 bg-gray-800 rounded-lg mt-2">
              <div
                className="absolute w-10 h-10 bg-yellow-400 rounded-full cursor-pointer transition-all duration-300 ease-in-out transform hover:scale-110"
                style={{ left: `${coinPosition.x}%`, top: `${coinPosition.y}%` }}
                onClick={handleCoinClick}
              />
            </div>
          </div>
        </CardContent>
        <CardFooter className="text-center text-sm text-gray-300">
          {t.footer}
        </CardFooter>
      </Card>
    </div>
  )
}
